<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>System Admin Portal - Santorini PM</title>
    <link rel="stylesheet" href="portal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <aside class="portal-sidebar">
        <h2>Santorini ADMIN</h2>
        <nav class="portal-nav">
            <a href="#dash" class="active"><i class="fa-solid fa-gauge"></i> Dashboard</a>
            <a href="#apps"><i class="fa-solid fa-file-signature"></i> App Queue</a>
            <a href="#props"><i class="fa-solid fa-building"></i> Properties</a>
            <a href="#maint"><i class="fa-solid fa-tools"></i> All Maintenance</a>
            <a href="#users"><i class="fa-solid fa-users"></i> User Roles</a>
            <a href="#audit"><i class="fa-solid fa-clock-rotate-left"></i> Audit Logs</a>
            <a href="index.html" id="logout"><i class="fa-solid fa-sign-out"></i> Logout</a>
        </nav>
    </aside>

    <main class="portal-main">
        <!-- Section: Reports -->
        <section id="dash">
            <h2 class="section-title">System-wide Reports</h2>
            <div class="card-grid">
                <div class="card"><h3>Tenants</h3><p class="stat-number" id="countTenants">0</p></div>
                <div class="card"><h3>Properties</h3><p class="stat-number" id="countProps">0</p></div>
                <div class="card"><h3>Pending Apps</h3><p class="stat-number" id="countApps">0</p></div>
                <div class="card"><h3>Open Maint.</h3><p class="stat-number" id="countMaint">0</p></div>
            </div>
            <div class="card">
                <h3>Activity Volume</h3>
                <div class="chart-container" id="adminChart"></div>
            </div>
        </section>

        <!-- Section: Application Queue -->
        <section id="apps" style="margin-top:40px">
            <h2 class="section-title">Application Queue</h2>
            <div class="card">
                <table>
                    <thead>
                        <tr><th>Applicant</th><th>Unit</th><th>Email</th><th>Status</th><th>Actions</th></tr>
                    </thead>
                    <tbody id="appTableBody"></tbody>
                </table>
            </div>
        </section>

        <!-- Section: Property Management -->
        <section id="props" style="margin-top:40px">
            <h2 class="section-title">Property Management</h2>
            <div class="card-grid">
                <div class="card">
                    <h3>Add New Property</h3>
                    <form id="addPropForm">
                        <input type="text" id="newPropAddress" placeholder="Street Address" required>
                        <select id="ownerAssign">
                            <option value="owner_eli">Eli Patronas</option>
                            <option value="owner_new">New Investor</option>
                        </select>
                        <button type="submit" class="btn btn-sage">Add Property</button>
                    </form>
                </div>
                <div class="card">
                    <h3>Active Properties</h3>
                    <table id="adminPropTable">
                        <thead><tr><th>Address</th><th>Owner</th><th>Action</th></tr></thead>
                        <tbody id="adminPropBody"></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section: Maintenance Requests -->
        <section id="maint" style="margin-top:40px">
            <h2 class="section-title">Maintenance Control</h2>
            <div class="card">
                <table>
                    <thead><tr><th>ID</th><th>Issue</th><th>Contractor</th><th>Status</th><th>Action</th></tr></thead>
                    <tbody id="adminMaintBody"></tbody>
                </table>
            </div>
        </section>

        <!-- Section: Audit Logs -->
        <section id="audit" style="margin-top:40px">
            <h2 class="section-title">System Audit Logs</h2>
            <div class="card" style="max-height: 300px; overflow-y: auto;">
                <table>
                    <thead><tr><th>Timestamp</th><th>Action</th></tr></thead>
                    <tbody id="auditLogBody"></tbody>
                </table>
            </div>
        </section>
    </main>

    <script src="portal-admin.js"></script>
</body>
</html>